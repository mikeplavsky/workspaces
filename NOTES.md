## Some ideas worth sharing and for us to remember

0. **TAG TAG TAG** everything you can!
1. **OPINIONATED** always design cleanup pipeline along with a provisioning one. This will save you a lot of time when time come to remove all that mess.<br/>:eyes:Check CloudFormation **Delete** resource at [pipeline.yaml](pipeline.yaml)<br/>**IMPORTANT**This pipeline should have disable transition after **Source** stage.
1. **BEST PRACTICE** Don't abuse [CloudFormation Intrinsic Function ImportValue](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-importvalue.html). Use it only when absolutely nessesary (example might be when you created CloudFormation Stacks during different deployment cycles). Use approach below whever it is possible.
3. **HOW TO** Pass CloudFormation output from one stack to another [Using Parameter Override Functions with CodePipeline](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-parameter-override-functions.html).<br/>:eyes:You can find real example by examing CloudFormation **Create** resource at [pipeline.yaml](pipeline.yaml)
4. **HOW TO** Use [CloudFormation Condition Function IF](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-conditions.html#intrinsic-function-reference-conditions-if) and [CloudFormation Pseudo parameter NoValue](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/pseudo-parameter-reference.html#cfn-pseudo-param-novalue) to **CONDITIONALLY CREATE AWS CodePipeline STAGE**.<br/>:eyes:Check CloudFormation **Create** and **Delete** resources at [pipeline.yaml](pipeline.yaml)
5. **HOW TO** You can apply the same approach from above to conditionally attach [AWS IAM Policies](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html) to your [AWS IAM Roles](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html).<br/>:eyes:Check CloudFormation **CodePipelineRole** resource at [pipeline.yaml](pipeline.yaml)
6. **BEST PRACTICE** Document usage of AWS IAM Policies. So you know what to remove later in case of you stack changed (new CloudFormation template added and/or more importantely deleted).<br/>:eyes:Check CloudFormation **CodePipelineRole** resource at [pipeline.yaml](pipeline.yaml)
